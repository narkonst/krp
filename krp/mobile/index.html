<!doctype html>
<html>
    <head>
        <title>test</title>
    </head>
    <body>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="http://192.168.1.235:3000/socket.io/socket.io.js"></script>
        <script type="text/javascript">
            var socket = io('ws://192.168.1.235:3000/');

            $(document).off('click', '#button').on('click', '#button', function (e) {
                console.log('click');
                socket.emit('changeBgColor', {color: 'red'});
                e.preventDefault();
            });

            $(document).off('click', '#button2').on('click', '#button2', function (e) {
                console.log('click');
                socket.emit('changeBgColor', {color: 'blue'});
                e.preventDefault();
            });

            $(document).off('click', '#play').on('click', '#play', function (e) {
                console.log('click');
                socket.emit('control', {action: 'play', arg:''});
                e.preventDefault();
            });

            $(document).off('click', '#stop').on('click', '#stop', function (e) {
                console.log('click');
                socket.emit('control', {action: 'stop', arg:''});
                e.preventDefault();
            });


            $(document).off('click', '#volup').on('click', '#volup', function (e) {
                console.log('click');
                socket.emit('control', {action: 'volume', arg:'+10'});
                e.preventDefault();
            });


            $(document).off('click', '#voldown').on('click', '#voldown', function (e) {
                console.log('click');
                socket.emit('control', {action: 'volume', arg:'-10'});
                e.preventDefault();
            });


            socket.on('GlobalControl', function (action) {
                console.log(action.playlist[0].title);
//                $('body').css('background', color);
		$('#text').html(action.current);	
		$('#vol').html(action.volume);	
		jQuery.each( action.playlist, function( i, value ) {
			console.log(action.playlist[i].title);
  $( "#playlist" ).html( document.createTextNode( " - " + action.playlist[i].title ) );
});



//		$('#playlist').html(
//			$.each(action.playlist, function(id, title){
//				console.log(id: title.title);
//		})
//action.playlist[0].title


//);
	});

            socket.on('changeBgColorEveryWhere', function (color) {
                console.log(color);
                $('body').css('background', color);
//		$('#textDiv').html(color);	
           });

        </script>


<h1>MOBILE!!!!!!!!!!!!!!!!!</h1>
<br>
        <button id="button">RED</button>
        <button id="button2">Blue</button>
        <button id="play">play</button>
        <button id="stop">stop</button>
        <button id="volup">+</button>
        <button id="voldown">-</button>
<div id=text></div>
<div id=vol></div>
<div id=playlist></div>
    </body>
</html>
